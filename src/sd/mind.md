# stable diffusion (sd) 调研

## 视频风格转换

1、直接转换，即先将视频拆成图片，再将图片转换成目标风格，最后将图片合成视频。

思路一：简单的思路是直接用原图作为底图，并降低降噪系数，实现新图与旧图的高度相似性。

思路二：使用ipadapter或者类似的工具，将图片转换成目标风格，再将图片合成视频。

其中思路一可能不能很有效的风格转换，思路二可能图片之间关联性不强，导致视频不连贯。

方案三：进一步，将视频中主要的内容进行剥离，比如人物。再补充背景。将主要内容和背景分别进行风格转换，再合成视频。

参考方案 [RAVE](https://github.com/spacepxl/ComfyUI-RAVE)

难点：视频连贯性，可能需要找到分镜边缘，再同一分镜中，将之前一帧作为下一帧的重要参考。

2、内容拆出
这里可能是方案三的进一步细化，比如拆出人物，然后可能要拆的更细，比如那几个人物，拆出一共几个角色。然后每个角色分别进行pose，深度等提取，再进行风格转换，每个角色进行指定的风格转换甚至角色替换，最后合成视频。

涉及到将原有角色从视频中剥离出来，全套的动作识别，人物识别，人物分割，人物pose等。
可能可以拆成几部分来做：
1、人物识别
2、原图抠出人物 -》 人物图像 与 原图中抠出人物带遮罩的图像
3、人物换风格或换角色
4、放回去，合成视频
