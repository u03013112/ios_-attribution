# 此文档记录一下这种方案的思路和过程

> 2023-02-24
>> 之前把数据搞错了，但是发现了一些规律，当尝试预测比例较小的媒体时，很容易出现预测部分被较大程度的低估。
>> 在换回数安卓数据后，发现训练出现两个趋势，一个是媒体部分完全不增长，一个是将媒体的增长率一定程度的低估（但是比完全不增长强） 
>> 所以现在考虑新的问题，是否总量的mape较低就目标。如果假定不同媒体的用户回收增长率是一个相对稳定的值，那么用这种方式可能并不能有效的进行学习
>> 所以有什么其他的方案能够让模型向希望的方向学习？

> 新思路：
>> 希望是每个媒体都能预测的比较准，并且最终也预测的比较准。所以需要将训练数据进行打乱，即如果希望只区分媒体与非媒体，需要这两部分本身的占比尽量均衡。
>> 具体实现步骤：按照首日的付费金额，计算两部分的比例，并尝试将两部分不同比例的样本按照相似比例进行配比。

比如：将媒体与非媒体的比例按照5%一个档位进行拆分，然后将类似比例的数据减少，使得每种比例的样本数量类似，看看这样是否可以适度的解决这个问题？ 又或者这是不好的尝试？

思路修正，改为将不同比例的样本进行计数，并用计数的比例计算权重。让模型在比例较少的样本上多一些权重，解决一边倒的问题。此问题在多媒体的情况下可能会更加的麻烦。
此尝试 代码：s20230224.py
